(function(t){function e(e){for(var n,i,r=e[0],c=e[1],u=e[2],l=0,h=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"1f10":function(t,e,o){},"30ef":function(t,e,o){},"3b55":function(t,e,o){t.exports=o.p+"static/img/baidu-icon.3d8073a8.png"},"3ea0":function(t,e,o){t.exports=o.p+"static/img/cnki-icon.d2dba03b.png"},"436d":function(t,e,o){},"4c27":function(t,e,o){},"51c8":function(t,e,o){"use strict";o("30ef")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("imgholder",{directives:[{name:"show",rawName:"v-show",value:t.ImgActive,expression:"ImgActive"}]}),o("div",{attrs:{id:"nav"}},[o("div",{staticClass:"nav-btn"},[o("van-icon",{staticStyle:{"line-height":"44px"},attrs:{name:"bars",color:"#fff",size:"24px"},on:{click:t.navHeadler}})],1)]),o("popup",{ref:"popup",attrs:{overlay:t.overlay}}),o("div",{style:t.routerStyle,attrs:{id:"router"}},[o("router-view")],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("van-popup",{staticClass:"popup",style:{height:"100vh",width:"305px"},attrs:{closeable:"","close-icon-position":"top-right",position:"left",overlay:t.overlay,"overlay-class":"overlay",duration:"0.1"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[o("ul",{attrs:{id:"cell-group"}},t._l(t.navData,(function(e,n){return o("li",{key:n,staticClass:"cell",class:[n==t.pageActive?"cell-focus":""],on:{click:function(o){return t.routerTo(e.path,n)}}},[o("div",{staticClass:"title"},[o("van-icon",{staticClass:"title-icon",attrs:{name:e.icon}}),o("p",[t._v(t._s(e.name))])],1),o("div")])})),0)])],1)},r=[],c={data:function(){return{show:!1,path:"/",activeNav:0,navData:[{name:"搜尋",path:"/",icon:"todo-list"},{name:"任務",path:"/todolist",icon:"todo-list"},{name:"圖表",path:"/chart",icon:"todo-list"}]}},computed:{pageActive:function(){return this.$store.getters.page},pageToPath:function(){var t=2==this.pageActive?"/nocice":1==this.pageActive?"/todolist":"/";return t}},props:{overlay:Boolean},methods:{popupOn:function(){this.show=!0},popupOff:function(){this.show=!1},routerTo:function(t,e){t!==this.path&&(this.path=t,this.$router.push({path:t}),this.$store.dispatch("update_page",{page:e}))}},mounted:function(){this.$store.dispatch("read_page"),console.log(this.pageToPath),this.path=this.pageToPath}},u=c,d=(o("6980"),o("2877")),l=Object(d["a"])(u,i,r,!1,null,"7a0921b0",null),h=l.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"backgroundImg"},[o("div",{staticClass:"img-overlay"})])}],v=(o("7dbc"),{}),m=Object(d["a"])(v,p,f,!1,null,"6679af90",null),g=m.exports,w={data:function(){return{show:!1,overlay:!0,screen:"wide",resizeWaiter:!1,ImgActive:!1,routerStyle:{width:"80vw",left:"50%"}}},components:{popup:h,imgholder:g},watch:{$route:"setBackground"},methods:{navHeadler:function(){!1===this.show?(this.$refs.popup.popupOn(),this.show=!0):(this.$refs.popup.popupOff(),this.show=!1),this.routerPositionHandle()},routerPositionHandle:function(){"narrow"!==this.screen&&"/"!==this.$route.path&&(!0===this.show?this.routerStyle.left="60%":this.routerStyle.left="50%")},matchMedia:function(){window.matchMedia("(max-width: 900px)").matches?(this.screen="narrow",this.overlay=!0,this.routerStyle.width="80vw"):(this.screen="wide",this.overlay=!1,this.routerStyle.width="50vw")},screenMatch:function(){var t=this;window.onresize=function(){this.resizeWaiter||(this.resizeWaiter=!0,setTimeout((function(){t.matchMedia(),this.resizeWaiter=!1}),500))}},setBackground:function(){"/"===this.$route.path?this.ImgActive=!0:this.ImgActive=!1}},mounted:function(){this.matchMedia(),this.screenMatch(),this.setBackground()}},y=w,_=(o("034f"),Object(d["a"])(y,a,s,!1,null,null,null)),C=_.exports,b=o("8c4f"),E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"search"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.overlay,expression:"overlay"}],staticClass:"overlay",on:{click:t.hideSearchOption}}),o("transition",{attrs:{name:"popin"}},[t.searchOption?o("div",{staticClass:"search-option-group"},t._l(t.searchOptionData,(function(e,n){return o("van-button",{key:n,staticClass:"search-option",class:[n===t.searchActive?"search-active":""],attrs:{icon:e.icon,round:"",size:"small",type:"primary"},on:{click:function(e){return t.changeSearchWay(n)}}},[t._v(t._s(e.name))])})),1):t._e()]),o("div",{staticClass:"search-input-container",class:{searchInputContainerFocus:t.searchContainerFocus}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyWord,expression:"searchKeyWord"}],staticClass:"search-input",class:{searchfocus:t.searchFocus},attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchKeyWord},on:{focus:t.showSearchOption,input:function(e){e.target.composing||(t.searchKeyWord=e.target.value)}}}),o("van-button",{staticClass:"search-input-button",on:{click:t.searchWithBower}},[t._v("搜索")])],1)],1)},D=[],x={data:function(){return{searchOptionData:[{icon:o("3b55"),name:"百度"},{icon:o("3ea0"),name:"知網"},{icon:o("a348"),name:"谷歌"}],searchActive:0,searchKeyWord:"",searchOption:!1,searchFocus:!1,searchContainerFocus:!1,overlay:!1}},methods:{searchWithBower:function(){0===this.searchActive?window.open("http://www.baidu.com/s?wd="+this.searchKeyWord):1===this.searchActive?window.open("https://kns.cnki.net/kns/brief/default_result.aspx?txt_1_sel=SU%24%25%3d%7C&txt_1_value1="+this.searchKeyWord+"&txt_1_special1=%25&txt_extension=&expertvalue=&cjfdcode=&currentid=txt_1_value1&dbJson=coreJson&dbPrefix=SCDB&db_opt=CJFQ%2CCJFN%2CCDFD%2CCMFD%2CCPFD%2CIPFD%2CCCND%2CCCJD%2CHBRD&db_value=&hidTabChange=&hidDivIDS=&singleDB=SCDB&db_codes=&singleDBName=&againConfigJson=false&action=scdbsearch&ua=1.11%E4%BD%9C%E8%80%85%EF%BC%9A%E5%9B%BE%E7%81%B5%E6%B5%8B%E8%AF%95%E6%BB%A1%E5%88%86bot%E9%93%BE%E6%8E%A5%EF%BC%9Ahttps://www.zhihu.com/question/29479061/answer/1183720467%E6%9D%A5%E6%BA%90%EF%BC%9A%E7%9F%A5%E4%B9%8E%E8%91%97%E4%BD%9C%E6%9D%83%E5%BD%92%E4%BD%9C%E8%80%85%E6%89%80%E6%9C%89%E3%80%82%E5%95%86%E4%B8%9A%E8%BD%AC%E8%BD%BD%E8%AF%B7%E8%81%94%E7%B3%BB%E4%BD%9C%E8%80%85%E8%8E%B7%E5%BE%97%E6%8E%88%E6%9D%83%EF%BC%8C%E9%9D%9E%E5%95%86%E4%B8%9A%E8%BD%AC%E8%BD%BD%E8%AF%B7%E6%B3%A8%E6%98%8E%E5%87%BA%E5%A4%84%E3%80%82"):2===this.searchActive&&window.open("https://www.google.com.hk/search?q="+this.searchKeyWord+"&oq="+this.searchKeyWord+"&aqs=chrome..69i57j0l9.1016j0j15&sourceid=chrome&ie=UTF-8"),this.searchKeyWord=""},showSearchOption:function(){this.overlay=!0,this.searchOption=!0,this.searchFocus=!0,this.searchContainerFocus=!0},hideSearchOption:function(){this.searchOption=!1,this.searchFocus=!1,this.overlay=!1,this.searchContainerFocus=!1},changeSearchWay:function(t){this.searchActive=t}}},O=x,B=(o("7949"),Object(d["a"])(O,E,D,!1,null,"0c413aca",null)),A=B.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"body"}},[o("div",{staticClass:"container"},[t._m(0),o("div",{staticClass:"items"},[t._l(t.list,(function(e){return o("div",{key:e.tId,class:[e.todo.state?"item-check":"item-notcheck","item"]},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.todo.state,expression:"item.todo.state"}],attrs:{id:["item"+e.tId],type:"checkbox"},domProps:{checked:Array.isArray(e.todo.state)?t._i(e.todo.state,null)>-1:e.todo.state},on:{click:function(o){return t.checkItem(e.todo.state,e.tId)},change:function(o){var n=e.todo.state,a=o.target,s=!!a.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);a.checked?r<0&&t.$set(e.todo,"state",n.concat([i])):r>-1&&t.$set(e.todo,"state",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e.todo,"state",s)}}}),o("label",{attrs:{for:["item"+e.tId]}},[t._v(t._s(e.todo.content))]),o("van-button",{staticClass:"delete-btn",attrs:{icon:"delete-o",type:"primary",size:"small",round:""},on:{click:function(o){return t.deleteItem(e.tId)}}})],1)})),o("h2",{staticClass:"done",attrs:{"aria-hidden":"true"}},[t._v("已完成")]),o("h2",{staticClass:"undone",attrs:{"aria-hidden":"true"}},[t._v("侍辦")])],2),o("div",{staticClass:"createItem"},[o("van-button",{staticClass:"add-btn",attrs:{icon:"plus",round:"",size:"small",type:"primary"},on:{click:t.createItem}}),o("div",[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.createItemContent,expression:"createItemContent",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.createItemContent},on:{input:function(e){e.target.composing||(t.createItemContent=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])],1)])])},I=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"day"},[o("h4",[t._v("Today")]),o("p")])}],S={data:function(){return{createItemContent:""}},computed:{list:function(){return this.$store.getters.list()||[]}},methods:{createItem:function(){var t=this.createItemContent;""!=t&&(this.$store.dispatch("create_todo",{todo:{content:t,state:!1}}),this.createItemContent="")},deleteItem:function(t){this.$store.dispatch("delete_todo",{tId:t})},checkItem:function(t,e){var o=!t;this.$store.dispatch("check_todo",{tId:e,state:o})}},mounted:function(){this.$store.dispatch("read_todo")}},$=S,j=(o("51c8"),Object(d["a"])($,k,I,!1,null,"57650bef",null)),F=j.exports,T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"echart-wrap"},[o("div",{staticClass:"introduction"},[o("div",{staticClass:"count"},[o("div",[t._v("任務總數 "+t._s(t.totaltest))]),o("p",[t._v("已完成 "+t._s(t.totalDone))]),o("p",[t._v("未完成 "+t._s(t.totalNotdone))])]),o("div",{staticClass:"done-rate"},[o("div",{ref:"water",staticClass:"water"}),o("div",{staticClass:"task"},[o("p",[t._v("任務完成率")]),o("p",[t._v(t._s(t.totalDoneRate))])])])]),o("h2",{staticClass:"sub-title"},[t._v("任務完成狀況")]),o("work-time-chart",{on:{todolistData:t.getTodolistData}})],1)},W=[],P=(o("13d5"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("echart-line",{attrs:{"series-data":t.todolistData,"extra-option":t.extraOption}})],1)}),z=[],N=(o("cb29"),o("b0c0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isSeriesEmpty?o("Empty",{attrs:{description:"暫無數據"}}):o("chart-line",{attrs:{"series-data":t.seriesData}})}),M=[],J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"chart"})},K=[],L=o("2ef0"),R=o("313e"),H=o("9ffd"),q=o("eec4"),U=o.n(q),V={name:"ChartLine",props:{seriesData:{type:Object,required:!0},extraOption:{type:Object,default:function(){return{}}}},data:function(){return{chart:null}},watch:{seriesData:{deep:!0,handler:function(){this.updateChartView()}}},mounted:function(){this.chart=R["a"](this.$el),this.updateChartView(),window.addEventListener("resize",this.handleWindowResize),this.addChartResizeListener()},beforeDestroy:function(){window.removeEventListener("resize",this.handleWindowResize)},methods:{assembleDataToOption:function(){return Object(L["merge"])({},H["a"],{xAxis:{type:"category",boundaryGap:!1,data:this.seriesData.xAxis}},{series:this.seriesData.data},this.extraOption)},addChartResizeListener:function(){var t=this,e=U()({strategy:"scroll",callOnAdd:!0});e.listenTo(this.$el,(function(){t.chart&&t.chart.resize()}))},updateChartView:function(){if(this.chart){var t=this.assembleDataToOption();console.log(t),this.chart.setOption(t,!0)}},handleWindowResize:function(){this.chart&&this.chart.resize()}}},G=V,Q=(o("9237"),Object(d["a"])(G,J,K,!1,null,"99711972",null)),Y=Q.exports,X=o("f0ca"),Z={name:"EChartLine",components:{ChartLine:Y,Empty:X["a"]},props:{seriesData:{type:Object,required:!0}},computed:{isSeriesEmpty:function(){return!this.seriesData.data.length}}},tt=Z,et=Object(d["a"])(tt,N,M,!1,null,null,null),ot=et.exports,nt={components:{EchartLine:ot},data:function(){return{extraOption:{color:["#fe883a","#2d90d1","#f75981","#90e2a9"]}}},computed:{todolistData:function(){for(var t=this.$store.getters.wholelist,e=new Array(t.length).fill(0),o=new Array(t.length).fill(0),n=[],a=0;a<t.length;a++){var s=t[a].name+"",i=s.substring(4,6),r=s.substring(6,8);n.push(i+"/"+r);for(var c=0;c<t[a].store.length;c++)!1===t[a].store[c].state?o[a]+=1:e[a]+=1}for(var u=[],d=0;d<e.length;d++)0===e[d]&&0===o[d]?u[d]=0:u[d]=Math.round(e[d]/(e[d]+o[d])*100);return this.$emit("todolistData",e,o,u),{xAxis:n,data:[{name:"完成百分比",type:"line",data:u}]}}},mounted:function(){this.$store.dispatch("read_todo")}},at=nt,st=Object(d["a"])(at,P,z,!1,null,null,null),it=st.exports,rt={data:function(){return{done:[],notdone:[],donePercentage:[]}},components:{workTimeChart:it},computed:{totalDone:function(){return this.done.reduce((function(t,e){return t+e}),0)},totalNotdone:function(){return this.notdone.reduce((function(t,e){return t+e}),0)},totaltest:function(){return this.totalDone+this.totalNotdone||0},totalDoneRate:function(){var t=Math.ceil(this.donePercentage.reduce((function(t,e){return t+e}),0)/this.donePercentage.length);return t}},methods:{getTodolistData:function(t,e,o){this.done=t,this.notdone=e,this.donePercentage=o},setWaterHeight:function(){var t=Math.ceil(.01*this.totalDoneRate*150);this.$refs.water.style.height=t+"px"}},updated:function(){this.setWaterHeight()}},ct=rt,ut=(o("8a7b"),Object(d["a"])(ct,T,W,!1,null,"f74d7dbe",null)),dt=ut.exports;n["a"].use(b["a"]);var lt=[{path:"/",name:"home",component:A},{path:"/todolist",name:"todolist",component:F},{path:"/chart",name:"chart",component:dt}],ht=new b["a"]({base:"",routes:lt}),pt=ht,ft=o("b970"),vt=(o("157a"),o("99af"),o("d81d"),o("a434"),o("2f62")),mt=function(t,e,o){return"todo"==e?{checkToday:function(){for(var e=JSON.parse(window.localStorage.getItem(t)||'[{"name":'.concat(o,',"store":[]}]')),n=e.length-1;n>=0;n--)if(e[n].name==o)return e;return e.push({name:o,store:[]}),window.localStorage.setItem(t,JSON.stringify(e)),e},load:function(){return JSON.parse(window.localStorage.getItem(t)||'[{"name":'.concat(o,',"store":[]}]'))},save:function(e){window.localStorage.setItem(t,JSON.stringify(e))}}:"page"==e?{load:function(){return window.localStorage.getItem(t)||"null"},save:function(e){window.localStorage.setItem(t,e)}}:void 0},gt=new Date,wt=1*gt.getMonth()+1,yt=gt.getDate(),_t="".concat(gt.getFullYear()).concat(wt<9?"0"+wt:wt).concat(yt<9?"0"+yt:yt),Ct=new mt("todo-vue","todo",_t),bt=new mt("page-vue","page");n["a"].use(vt["a"]);var Et=new vt["a"].Store({state:{todos:[],todos_today:{},page:0},getters:{list:function(t){return function(){return t.todos_today.store||(t.todos_today.store=[]),t.todos_today.store.map((function(t,e){return{tId:e,todo:t}}))}},wholelist:function(t){return t.todos},page:function(t){return t.page}},mutations:{set_todo:function(t,e){t.todos=e},set_todo_today:function(t,e){t.todos_today=e},set_page:function(t,e){t.page=e}},modules:{},actions:{read_page:function(t){var e=t.commit,o=bt.load();return"null"==o&&(o=0),bt.save(o),e("set_page",o),{page:o}},update_page:function(t,e){var o=t.commit,n=t.state,a=e.page;if(console.log(a),n.page!=a)return bt.save(a),o("set_page",a),{page:a}},create_todo:function(t,e){var o=t.commit,n=e.todo,a=Ct.checkToday(),s=a.length-1;return a[s].store.push(n),Ct.save(a),o("set_todo",a),o("set_todo_today",a[s]),{tId:s,todos:a}},read_todo:function(t){var e=t.commit,o=Ct.checkToday(),n=o.length-1;return Ct.save(o),e("set_todo",o),e("set_todo_today",o[n]),{todos:o}},delete_todo:function(t,e){var o=t.commit,n=Ct.checkToday(),a=n.length-1,s=n[a].store.splice(e,1)[0];return Ct.save(n),o("set_todo",n),o("set_todo_today",n[a]),{todo:s}},update_todo:function(t,e){var o=t.commit,n=t.state,a=e.tId,s=e.content;if(n.todos[a].content!==s){var i=Ct.load();return i[a].content=s,Ct.save(i),o("set_todo",i),{tId:a,todo:i[a]}}},check_todo:function(t,e){var o=t.commit,n=e.tId,a=e.state,s=Ct.checkToday(),i=s.length-1;return s[i].store[n].state=a,Ct.save(s),o("set_todo_today",s[i]),{tId:n,todo:s[n]}},clear_todo:function(t){var e=t.commit,o=[];return Ct.save(o),e("set_todo",o),{todos:o}}}});n["a"].config.productionTip=!1,n["a"].use(ft["a"]),new n["a"]({router:pt,store:Et,render:function(t){return t(C)}}).$mount("#app")},6162:function(t,e,o){},6980:function(t,e,o){"use strict";o("7e82")},7949:function(t,e,o){"use strict";o("436d")},"7dbc":function(t,e,o){"use strict";o("1f10")},"7e82":function(t,e,o){},"85ec":function(t,e,o){},"8a7b":function(t,e,o){"use strict";o("4c27")},9237:function(t,e,o){"use strict";o("6162")},"9ffd":function(t){t.exports=JSON.parse('{"a":{"title":{},"tooltip":{"trigger":"axis"},"legend":{"top":"12%","data":["完成百分比"]},"grid":{"left":"0","right":"5%","bottom":"3%","top":"20%","containLabel":true},"yAxis":{"type":"value","show":false}}}')},a348:function(t,e,o){t.exports=o.p+"static/img/google-icon.25d28fd6.png"}});
//# sourceMappingURL=app.60497a9a.js.map